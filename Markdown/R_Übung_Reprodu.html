

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Übung: Reproduzierbarkeit &#8212; Fallstudie I - Tabelle</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Markdown/R_Übung_Reprodu';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Zusammenfassung" href="Zusammenfassung.html" />
    <link rel="prev" title="Übung: Arbeiten mit CSV-Dateien in R" href="R_Markdown.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="Intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/quadriga-logo.jpeg" class="logo__image only-light" alt="Fallstudie I - Tabelle - Home"/>
    <script>document.write(`<img src="../_static/quadriga-logo.jpeg" class="logo__image only-dark" alt="Fallstudie I - Tabelle - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="Intro.html">
                    QUADRIGA: Fallstudie I - Tabelle
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Einleitung</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Ausgangssituation.html">Ausgangssituation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Nationaler_Bildungsbericht.html">Nationaler Bildungsbericht</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Datenerhebung &amp; -nachnutzung</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Einleitung_Datenqualit%C3%A4t.html">Einleitung: Datenqualität</a></li>
<li class="toctree-l1"><a class="reference internal" href="Qualit%C3%A4tsmerkmale_Open_Data.html">Qualitätsmerkmale für (Open) Daten und Metadaten</a></li>
<li class="toctree-l1"><a class="reference internal" href="5_Star_Model.html">5-Star-Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="G%C3%BCtekriterien_Sozialforschung.html">Gütekriterien der empirischen Sozialforschung</a></li>
<li class="toctree-l1"><a class="reference internal" href="Qualit%C3%A4tskriterien_amtliche_Statistikdaten.html">Qualitätskriterien von amtlichen Statistikdaten</a></li>
<li class="toctree-l1"><a class="reference internal" href="Reproduzierbarkeit.html">Reproduzierbarkeit</a></li>
<li class="toctree-l1"><a class="reference internal" href="Wimmelbild.html">Übung 1 Wimmelbild</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Datenanreicherung &amp; -bereinigung</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Einleitung_Datenbearbeitung.html">Einleitung: Datenbearbeitung</a></li>
<li class="toctree-l1"><a class="reference internal" href="R_Markdown.html">Übung: Arbeiten mit CSV-Dateien in R</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Übung: Reproduzierbarkeit</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Zusammenfassung</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Zusammenfassung.html">Zusammenfassung</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/Markdown/R_Übung_Reprodu.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Übung: Reproduzierbarkeit</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fallbeispiel-bildungsbericht">Fallbeispiel: Bildungsbericht</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#primarquelle-finden">Primärquelle finden</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nachbauen-des-kreisdiagramms-in-r">Nachbauen des Kreisdiagramms in R</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#aufbau-des-kreisdiagramms">Aufbau des Kreisdiagramms</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#einzelne-datenwerte-finden">Einzelne Datenwerte finden</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dataframe-erstellen">Dataframe  erstellen</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisierung-des-kreisdiagramms">Visualisierung des Kreisdiagramms</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#fazit">Fazit</a></li>
</ul>
</li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="ubung-reproduzierbarkeit">
<h1>Übung: Reproduzierbarkeit<a class="headerlink" href="#ubung-reproduzierbarkeit" title="Permalink to this heading">#</a></h1>
<p>In dem vorangegangenen Kapitel wurden Sie vertraut gemacht mit ersten Grundbausteinen im Arbeiten mit <strong>R</strong>.  Diese Fähigkeiten können Sie nutzen, um die <em>Reproduzierbarkeit</em> von Grafiken, Daten, etc. zu überprüfen. Was genau Reproduzierbarkeit ist, können Sie in <a class="reference internal" href="#"><span class="xref myst">Kapitel ??</span></a> nachlesen.</p>
<section id="fallbeispiel-bildungsbericht">
<h2>Fallbeispiel: Bildungsbericht<a class="headerlink" href="#fallbeispiel-bildungsbericht" title="Permalink to this heading">#</a></h2>
<p>Im nationalen <a class="reference external" href="https://www.bildungsbericht.de/de/bildungsberichte-seit-2006/bildungsbericht-2022">Bildungsbericht 2022</a>
befindet sich auf der Seite 259 folgende Abbildung:</p>
<p><img alt="Kreisdiagramme Bildungsbericht" src="C:/Users/ant87282/Documents/Fallstudie_1/%C3%9Cbung_Kreisdiagramm/Kreisdiagramme_Bildungsbericht.png" /></p>
<p>Wenn Sie nun das Kreisdiagramm für <em>“Hochschulen insgesamt”</em> und <em>“Personen”</em> auf Reproduzierbarkeit überprüfen möchten, benötigen Sie hierfür die Daten. Hierzu müssen Sie nun selbst recherchieren werden und versuchen, die Ausgangsdaten zu finden.</p>
<blockquote>
<div><p>Beachten Sie:<br />
Der Bildungsbericht verweist auf einzelne Excel-Dateien als Datenbasis (Hier: “Tab. H1-9web”), welche gleichzeit mit dem Bildungsbericht veröffenlticht werden. Eine gute wissenschaftliche Praxis verlangt jedoch, dass Sie die jeweilige Primärquelle verwenden und nicht die verlinkten Sekundärquellen.</p>
</div></blockquote>
<section id="primarquelle-finden">
<h3>Primärquelle finden<a class="headerlink" href="#primarquelle-finden" title="Permalink to this heading">#</a></h3>
<p>Unter der Grafik sind als Quelle unter anderem die “Statistische[n] Ämter des Bundes und der Länder” angegeben. Nun können Sie gucken, ob Sie auf der <a class="reference external" href="https://www-genesis.destatis.de/genesis/online">Website des Statistischen Bundesamtes</a> (auch DESTATIS genannt) die Datenbasis zu dem vorliegendem Kreisdiagramm finden können.</p>
<p><strong>Übung:</strong>
Finden Sie die Datengrundlage für das obere linke Kreisdiagramm (Personen, Hochschulen insgesamt) auf der Website des des Statistischen Bundesamtes</p>
<p><em>Gefunden?</em></p>
<details>
<summary>Ja</summary>
<br>
Bravo, gut gemacht!
Downloaden Sie nun die Daten für das Jahr 2020 als CSV Datei ab, da sich das Kreisdiagramm nur auf dieses Jahr bezieht.
</details>
<details>
<summary>Nein</summary>
<br>
Halb so schlimm, die Daten sind auch etwas versteckt. Klicken Sie in folgender Reihenfolge auf besagte Kacheln:
<ol class="arabic simple">
<li><p>“2 Bildung, Sozialleistungen, Gesundheit, Recht”</p></li>
<li><p>“21 Bildung und Kultur, Forschung und Entwicklung”</p></li>
<li><p>“21341 Statistik des Hochschulpersonals”</p></li>
<li><p>“21341-0001	Personal an Hochschulen: Deutschland, Jahre, Personalgruppen nach Beschäftigungsverhältnis, Geschlecht”</p></li>
</ol>
<p>Hier können Sie nun das Jahr 2020 auswählen, auf das das Kreisdiagramm verweist und die Daten als CSV-Datei downloaden.</p>
</details>
<p>Öffnen Sie nun die Datei in einem Programm Ihrer Wahl (z.B. Excel).
Wie Sie nun vermutlich selber erkannt haben, handelt es sich bei dieser Datei um die CSV-Ausgangsdatei aus vorangegangener <a class="reference internal" href="#"><span class="xref myst">Übung: Arbeiten mit CSV-Dateien in R</span></a>.</p>
</section>
<section id="nachbauen-des-kreisdiagramms-in-r">
<h3>Nachbauen des Kreisdiagramms in R<a class="headerlink" href="#nachbauen-des-kreisdiagramms-in-r" title="Permalink to this heading">#</a></h3>
<p>Das nachfolgende Skript knüpft an die vorangegangene Übung an. Es wird vorausgesetzt das die Daten entsprechend des Skriptes angepasst wurden.
Ihre Tabellendaten sollten wie folgt aussehen:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">head</span><span class="p">(</span><span class="n">Tabellendaten</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##                             Angestelltenverhaeltnis Geschlecht Angestelltenzahl_2020                              Personalkategorie Art_der_Anstellung</span>
<span class="c1">## 1    Wissenschaftliches und künstlerisches Personal   männlich                247720 Wissenschaftliches und künstlerisches Personal          Insgesamt</span>
<span class="c1">## 2    Wissenschaftliches und künstlerisches Personal   weiblich                167112 Wissenschaftliches und künstlerisches Personal          Insgesamt</span>
<span class="c1">## 3    Wissenschaftliches und künstlerisches Personal  Insgesamt                414832 Wissenschaftliches und künstlerisches Personal          Insgesamt</span>
<span class="c1">## 4 Hauptberufl. wissenschaftl. u. künstler. Personal   männlich                159567 Wissenschaftliches und künstlerisches Personal     Hauptberuflich</span>
<span class="c1">## 5 Hauptberufl. wissenschaftl. u. künstler. Personal   weiblich                109708 Wissenschaftliches und künstlerisches Personal     Hauptberuflich</span>
<span class="c1">## 6 Hauptberufl. wissenschaftl. u. künstler. Personal  Insgesamt                269275 Wissenschaftliches und künstlerisches Personal     Hauptberuflich</span>
</pre></div>
</div>
<p>Falls Sie die R-Session neu beginnen, sollten Sie zu für diese Übung das <code class="docutils literal notranslate"><span class="pre">tidyverse</span></code>-Package laden.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">)</span>
</pre></div>
</div>
<section id="aufbau-des-kreisdiagramms">
<h4>Aufbau des Kreisdiagramms<a class="headerlink" href="#aufbau-des-kreisdiagramms" title="Permalink to this heading">#</a></h4>
<p><img alt="Kreisdiagramm Hochschulen insgesamt" src="C:/Users/ant87282/Documents/Fallstudie_1/%C3%9Cbung_Kreisdiagramm/Kreisdiagramme_Bildungsbericht_einzelansicht.png" /></p>
<p>Um das Kreisdiagramm reproduzieren zu können, müssen Sie zunächst die einzelnen Bestandteile verstehen.
Das Diagramm unterteilt in die folgenden Personalgruppen:</p>
<ul class="simple">
<li><p>Professor:innen</p></li>
<li><p>Wissenschaftliche und künstlerische Mitarbeiter:innen</p></li>
<li><p>Nebenberufliche Mitarbeiter:innen</p></li>
</ul>
<p>Zu diesen Personalgruppen werden jeweils die absoluten Beschäftigungszahlen und der jeweilige prozentuale Anteile zur Gesamtsumme für das Jahr 2020
angegeben.</p>
<p><em>Lesebeispiel: Im Jahr 2020 waren insgesamt 49.293 Professor:innen an Universitäten und Fachhochschulen in Deutschland angestellt.</em></p>
</section>
<section id="einzelne-datenwerte-finden">
<h4>Einzelne Datenwerte finden<a class="headerlink" href="#einzelne-datenwerte-finden" title="Permalink to this heading">#</a></h4>
<p>Zur eigenständigen Erstellung des Kreisdiagramms müssen Sie nun die absoluten Beschäftigungszahlen in Ihren Tabellendaten finden.
Hierzu bietet sich das Suchen mittels der <code class="docutils literal notranslate"><span class="pre">filter()</span></code>-Funktion an, welche zum Ende der letzten Übung thematisiert wurde.</p>
<p>Filtern nach Professoren:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>filter(Tabellendaten, Tabellendaten$Angestelltenverhaeltnis == &quot;Professoren&quot; &amp; Tabellendaten$Geschlecht == &quot;Insgesamt&quot;)
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##  Angestelltenverhaeltnis Geschlecht Angestelltenzahl_2020                              Personalkategorie Art_der_Anstellung</span>
<span class="c1">## 1             Professoren  Insgesamt                 49293 Wissenschaftliches und künstlerisches Personal     Hauptberuflich</span>
</pre></div>
</div>
<p>Wie Sie erkennen können, stimmt die Angestelltenzahl von 49.293 mit der aus dem Kreisdiagramm überein.
Diese Ausgabe können Sie sich nun abspeichern.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Professoren_Insgesamt &lt;- filter(Tabellendaten, Tabellendaten$Angestelltenverhaeltnis == &quot;Professoren&quot; &amp;
                Tabellendaten$Geschlecht == &quot;Insgesamt&quot;)
</pre></div>
</div>
<p>Für Nebenberufliche Mitarbeiter:innen gehen Sie analog vor:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Nebenberuflich_Insgesamt &lt;- filter(Tabellendaten, Tabellendaten$Angestelltenverhaeltnis == &quot;Nebenberufl. wissenschaftl. u. künstler. Personal&quot; &amp; Tabellendaten$Geschlecht == &quot;Insgesamt&quot;)

#Wert anzeigen lassen
Nebenberuflich_Insgesamt
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##                             Angestelltenverhaeltnis Geschlecht Angestelltenzahl_2020                              Personalkategorie Art_der_Anstellung</span>
<span class="c1">## 1 Nebenberufl. wissenschaftl. u. künstler. Personal  Insgesamt                145557 Wissenschaftliches und künstlerisches Personal     Nebenberuflich</span>
</pre></div>
</div>
<p>Den Wert für die wissenschaftlichen und künstlerischen Mitarbeiter:innen können Sie nicht direkt aus der Tabelle ablesen.
Sie erhalten diese Zahl indem Sie die “Professoren - Insgesamt” von  “Hauptberuflich wissenschaftliches und künstlerisches Personal - Insgesamt” abziehen, da die Professoren in der DESTATIS-Datei auch unter der Kategorie “Hauptberuflich wissenschaftliches und künstlerisches Personal” gelistet werden.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Professoren_Insgesamt &lt;- filter(Tabellendaten, Tabellendaten$Angestelltenverhaeltnis == &quot;Professoren&quot; &amp;
                Tabellendaten$Geschlecht == &quot;Insgesamt&quot;)

Hauptberuflich_Insgesamt &lt;- filter(Tabellendaten, Tabellendaten$Angestelltenverhaeltnis == &quot;Hauptberufl. wissenschaftl. u. künstler. Personal&quot; &amp;
                                     Tabellendaten$Geschlecht == &quot;Insgesamt&quot;)

Hauptberuflich_exlusive_Professoren &lt;- Hauptberuflich_Insgesamt$Angestelltenzahl_2020 - Professoren_Insgesamt$Angestelltenzahl_2020

#Wert anzeigen lassen
Hauptberuflich_exlusive_Professoren
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## [1] 219982</span>
</pre></div>
</div>
</section>
<section id="dataframe-erstellen">
<h4>Dataframe  erstellen<a class="headerlink" href="#dataframe-erstellen" title="Permalink to this heading">#</a></h4>
<p>Sie haben nun die einzelnen Datenwerte abgespeichert. um diese für ein Kreisdiagramm zu verwenden, müssen Sie diese Werte in einem neu erstellen Dataframe kombinieren.</p>
<p>Hierzu erstellen Sie zunächst einen Vektor mit den passenden Bezeichnungen (Grundlage: Legende der Originalabbildung).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Personalgruppe</span> <span class="o">&lt;-</span> <span class="n">c</span><span class="p">(</span><span class="s2">&quot;Wissenschaftliche und künstlerische Mitarbeiter:innen&quot;</span><span class="p">,</span> <span class="s2">&quot;Professor:innen&quot;</span><span class="p">,</span> <span class="s2">&quot;Nebenberufliche Mitarbeiter:innen&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Nun erzeugen Sie einen zweiten Vektor, welcher die abgespeicherten Datenwerte zu den jeweiligen Personalgruppen enthält.
Achtung!: Die richtige Reihenfolge analog zum Vektor “Arbeitsverhältnis” ist hier wichtig.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Absolute_Werte &lt;- c(Hauptberuflich_exlusive_Professoren, Professoren_Insgesamt$Angestelltenzahl_2020, 
                    Nebenberuflich_Insgesamt$Angestelltenzahl_2020)
</pre></div>
</div>
<p>Nun können Sie beide Vektoren kombinieren und einen Dataframe erstellen:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Daten_kreisdiagramm</span> <span class="o">&lt;-</span> <span class="n">data</span><span class="o">.</span><span class="n">frame</span><span class="p">(</span><span class="n">Personalgruppe</span><span class="p">,</span> <span class="n">Absolute_Werte</span><span class="p">)</span>

<span class="c1">#Dataframe anzeigen lassen</span>
<span class="n">Daten_kreisdiagramm</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##                                          Personalgruppe Absolute_Werte</span>
<span class="c1">## 1 Wissenschaftliche und künstlerische Mitarbeiter:innen         219982</span>
<span class="c1">## 2                                       Professor:innen          49293</span>
<span class="c1">## 3                     Nebenberufliche Mitarbeiter:innen         145557</span>
</pre></div>
</div>
<p>Der erstellte Dataframe kann nun um eine neue Variable erweitert werden, welche die Datenwerte in Prozent zum Gesamtwert anzeigt.
Hierfür können Sie sich die folgenden zwei Befehle zu nutzen machen:
Der Befehl <code class="docutils literal notranslate"><span class="pre">round()</span></code>rundet eine Zahl auf die nach dem Komma angegebene Nachkommastelle.
Der Befehl <code class="docutils literal notranslate"><span class="pre">paste()</span></code> kombiniert zwei einzelne Objekte (z.B. Vektoren, einzelne Datenwerte, etc.). Mittels <code class="docutils literal notranslate"><span class="pre">sep</span> <span class="pre">=</span></code> können Sie angeben, welches Zeichen zwischen den Objekten stehen soll. Falls Sie diese Spezifikation weglassen, wird <strong>R</strong> ein einzelnes Leerzeichen verwenden.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>#Varibale &quot;Prozent&quot; erzeugen 
Daten_kreisdiagramm$Prozent &lt;- paste(round(Daten_kreisdiagramm$Absolute_Werte/sum(Daten_kreisdiagramm$Absolute_Werte)*100,0), &quot;%&quot;)

#Absolute Werte und Prozentwerte kombinieren 
Daten_kreisdiagramm$Werte_kombiniert &lt;- paste(Daten_kreisdiagramm$Absolute_Werte, sep = &quot; | &quot;, Daten_kreisdiagramm$Prozent)

#Neue Variablen begutachten
Daten_kreisdiagramm
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##                                          Personalgruppe Absolute_Werte Prozent Werte_kombiniert</span>
<span class="c1">## 1 Wissenschaftliche und künstlerische Mitarbeiter:innen         219982    53 %    219982 | 53 %</span>
<span class="c1">## 2                                       Professor:innen          49293    12 %     49293 | 12 %</span>
<span class="c1">## 3                     Nebenberufliche Mitarbeiter:innen         145557    35 %    145557 | 35 %</span>
</pre></div>
</div>
<p>Falls Sie wie in dem original Kreisdiagramm Tausenderpunkte hinzufügen möchten, können Sie die Funktion <code class="docutils literal notranslate"><span class="pre">prettyNum</span></code> verwenden.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Daten_kreisdiagramm$Werte_kombiniert &lt;- prettyNum(Daten_kreisdiagramm$Werte_kombiniert, big.mark = &quot;.&quot;, decimal.mark = &quot;,&quot;)
</pre></div>
</div>
</section>
<section id="visualisierung-des-kreisdiagramms">
<h4>Visualisierung des Kreisdiagramms<a class="headerlink" href="#visualisierung-des-kreisdiagramms" title="Permalink to this heading">#</a></h4>
<p>Aus dem erzeugten Dataframe können Sie sich nun ein Kreisdiagramm erstellen lassen. Hierzu könnten Sie den Befehl <code class="docutils literal notranslate"><span class="pre">pie()</span></code> nutzen. Diese Funktion bietet jedoch nicht viele Anpassungsmöglichkeiten und im folgenden wird auf die weit verbreitete <code class="docutils literal notranslate"><span class="pre">ggplot</span></code>-Funktion zurückgegriffen.</p>
<p>Lassen Sie sich nicht von der Länge des folgenden Codes abschrecken. Jede einzelne Zeile spezifiziert den Aufbau des Kreisdiagramms. Wenn Sie weitere Details zu bestimmten Befehlen erfahren wollen, schlagen Sie diese in der R-Dokumentation nach (z.B. <code class="docutils literal notranslate"><span class="pre">?geom_label()</span></code>).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ggplot</span><span class="p">(</span><span class="n">Daten_kreisdiagramm</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">Absolute_Werte</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">Arbeitsverhältnis</span><span class="p">))</span><span class="o">+</span> <span class="c1">#Setzen der Datenbasis</span>
  <span class="n">geom_bar</span><span class="p">(</span><span class="n">stat</span><span class="o">=</span><span class="s2">&quot;identity&quot;</span><span class="p">)</span><span class="o">+</span> <span class="c1">#Setzen wie die Werte verarbeitet werden sollen</span>
  <span class="n">coord_polar</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">)</span><span class="o">+</span> <span class="c1">#Zusatz für Kreisdiagramme</span>
  <span class="n">theme_void</span><span class="p">()</span><span class="o">+</span> <span class="c1">#Hintergrund wird weiß eingefärbt</span>
  <span class="n">scale_fill_manual</span><span class="p">(</span><span class="n">values</span> <span class="o">=</span> <span class="n">c</span><span class="p">(</span><span class="s2">&quot;#FF9900&quot;</span><span class="p">,</span> <span class="s2">&quot;#333399&quot;</span><span class="p">,</span> <span class="s2">&quot;#CC0033&quot;</span><span class="p">))</span><span class="o">+</span> <span class="c1">#Farben für einzelne Diagrammteile setzen. Farbcodes sind online abrufbar.</span>
  <span class="n">ggtitle</span><span class="p">(</span><span class="s2">&quot;Hochschulen insgesamt&quot;</span><span class="p">)</span><span class="o">+</span> <span class="c1">#Überschrift setzen</span>
  <span class="n">geom_label</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">Werte_kombiniert</span><span class="p">),</span> <span class="c1">#Beschriftung setzen</span>
             <span class="n">position</span> <span class="o">=</span> <span class="n">position_stack</span><span class="p">(</span><span class="n">vjust</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">),</span> <span class="c1">#Position der Beschriftung setzen</span>
             <span class="n">color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="c1">#Schriftfarbe setzen</span>
             <span class="n">label</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="c1">#Größe des Randes um Beschriftung setzen</span>
             <span class="n">size</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="c1">#Schriftgröße setzen</span>
             <span class="n">show</span><span class="o">.</span><span class="n">legend</span> <span class="o">=</span> <span class="n">FALSE</span><span class="p">)</span> <span class="c1">#Beschriftung soll nicht in der Legende angezeigt werden</span>
</pre></div>
</div>
<p><img alt="R-Output Kreisdiagramm" src="C:/Users/ant87282/Documents/Fallstudie_1/%C3%9Cbung_Kreisdiagramm/pie_with_R.png" /></p>
<p>Voilà, Sie haben soeben das Kreisdiagramm nachgebaut!</p>
</section>
<section id="fazit">
<h4>Fazit<a class="headerlink" href="#fazit" title="Permalink to this heading">#</a></h4>
<p>Betrachten Sie sich nun das originale Diagramm aus dem Bildungsbericht und das von Ihnen selbstständig erzeugte im Vergleich:</p>
<p><img alt="Vergleich der Kreisdiagramme" src="C:/Users/ant87282/Documents/Fallstudie_1/%C3%9Cbung_Kreisdiagramm/Pie_vergleich_final.png" /></p>
<p>Bis auf kleine Schönheitsfehler fällt im direkten Vergleich kein Unterschied auf.</p>
<p><strong>Das Kreisdiagramm ist somit mittels der Primärquelle reproduzierbar!</strong></p>
</section>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./Markdown"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="R_Markdown.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Übung: Arbeiten mit CSV-Dateien in R</p>
      </div>
    </a>
    <a class="right-next"
       href="Zusammenfassung.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Zusammenfassung</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fallbeispiel-bildungsbericht">Fallbeispiel: Bildungsbericht</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#primarquelle-finden">Primärquelle finden</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nachbauen-des-kreisdiagramms-in-r">Nachbauen des Kreisdiagramms in R</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#aufbau-des-kreisdiagramms">Aufbau des Kreisdiagramms</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#einzelne-datenwerte-finden">Einzelne Datenwerte finden</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dataframe-erstellen">Dataframe  erstellen</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisierung-des-kreisdiagramms">Visualisierung des Kreisdiagramms</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#fazit">Fazit</a></li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jana, Juliane, Paul und Anton
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>